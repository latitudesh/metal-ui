"use strict";var React=require("react"),reactDom=require("react-dom"),PropTypes=require("prop-types"),classNames=require("classnames"),index=require("../Box/index.js"),reactUse=require("react-use"),react=require("@emotion/react");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var PropTypes__default=_interopDefaultLegacy(PropTypes),classNames__default=_interopDefaultLegacy(classNames);function XIcon(){return react.jsx("svg",{fill:"none",className:"text-accent-four",stroke:"currentColor",viewBox:"0 0 24 24",width:"16px",height:"16px"},react.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))}const SidesheetContent=({id:e,children:t})=>{if("undefined"==typeof window)return null;let r=React.useRef(document.getElementById(e)||document.createElement("div"));return React.useEffect(()=>(document.getElementById(e)||(r.current.id=e,document.body.appendChild(r.current)),()=>{r.current.parentElement&&r.current.parentElement.removeChild(r.current)}),[e]),reactDom.createPortal(t,r.current)},Sidesheet=({title:e,children:t,action:r,content:a,width:n=400,onClose:s,isShown:o=!1})=>{var l=React.useRef(),i=React.useRef();const[c,d]=React.useState(!1),[u,f]=React.useState(!1),p=(React.useEffect(()=>{let e;return e=o?(d(!0),setTimeout(()=>f(!0),100)):(f(!1),setTimeout(()=>d(!1),300)),()=>clearTimeout(e)},[o]),()=>{let e;return c&&u&&(s(),f(!1),e=setTimeout(()=>d(!1),500)),()=>clearTimeout(e)});return reactUse.useKeyPressEvent("Escape",p),react.jsx("div",{ref:l},t,c&&react.jsx(SidesheetContent,{id:"sidesheet"},react.jsx("div",{onClick:()=>p(),className:classNames__default.default("fixed z-50 inset-0 opacity-25 duration-200 delay-100 transition",{"bg-accent-eight":u,"bg-transparent":!u})}),react.jsx("div",{ref:i,style:{transition:"transform .2s cubic-bezier(.3,0,0,1)",transform:u?`translateX(calc(100vw - ${n}px - 20px))`:"translateX(100vw)",top:0,bottom:0,width:n,height:"calc(100% - 20px)"},className:"fixed z-50 min-w-0 bg-white duration-300 delay-200 h-full flex flex-col shadow-xl m-2 rounded"},react.jsx(index,{flex:!0,alignItems:"center",className:"relative border-b border-border rounded rounded-b-none"},react.jsx("div",{className:"text-foreground flex-auto truncate leading-6"},e),react.jsx(index,{flex:!0,backgroundColor:"transparent",className:"cursor-pointer bg-transparent",noPadding:!0},react.jsx("div",{onClick:()=>p()},react.jsx(XIcon,null)))),react.jsx(index,{flex:!0,flexDirection:"col",overflow:"overflow-y-auto",className:"sidesheet-content relative flex-1 rounded"},react.jsx(index,{noPadding:!0,flex:!0,flexDirection:"col",overflow:"overflow-y-auto",className:"overflow-visible"},react.jsx("div",{className:"flex-shrink-0"},a))),r&&react.jsx(index,{flex:!0,justifyContent:"evenly",alignItems:"center",className:"sidesheet-action h-16 border-t border-border relative flex-initial rounded rounded-t-none"},r))))};Sidesheet.propTypes={content:PropTypes__default.default.element,children:PropTypes__default.default.element,className:PropTypes__default.default.string,width:PropTypes__default.default.string,action:PropTypes__default.default.element,onClose:PropTypes__default.default.func,isShown:PropTypes__default.default.bool,title:PropTypes__default.default.string},module.exports=Sidesheet;
